<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width">
<title></title>
<script type="text/javascript" src=""></script>
<script type="text/javascript">
onload = function() {
navigator.mediaDevices.enumerateDevices().then(function(s) {
 	for(var i=0;i<s.length;i++) {
 		if(s[i].kind =="videoinput") {
 			console.log(s[i].label+"/"+s[i].deviceId)
 			v(s[i].deviceId) ;
 		}
 	}
 })
var stream ;
function v(id) {
//	document.body.addEventListener("touchstart", function() {
	navigator.mediaDevices.getUserMedia({video: {deviceId:id}, audio: false}).then(function(st) {
		console.log("get stream") ;
		stream = st ;
		var video = document.createElement('video');
		video.setAttribute("autoplay", true)
		document.body.appendChild(video) ;
		video.addEventListener('canplay', function(){
			console.log("canplay")
		})
		try {
			video.src = window.URL.createObjectURL(stream);
		} catch(err) {
			video.srcObject = st ;
		}
	})
//	})
}
}
</script>
<link rel="stylesheet" type="text/css" href="">
<style type="text/css">
html,body {
	width:100% ;
	height:100% ;
}
</style>
</head>
<body>
</body>
</html>